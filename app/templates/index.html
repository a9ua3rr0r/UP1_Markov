<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LibTool - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <aside class="sidebar">
            <div class="brand">
                <div class="logo">üìö</div>
                <div class="title">LibTool</div>
            </div>

            <nav class="navigation">
                <button class="nav-btn active" data-page="books">
                    <span>üìñ</span>
                    <span>–ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥</span>
                </button>
                <button class="nav-btn" data-page="readers">
                    <span>üë•</span>
                    <span>–ß–∏—Ç–∞—Ç–µ–ª–∏</span>
                </button>
                <button class="nav-btn" data-page="issues">
                    <span>üîÑ</span>
                    <span>–í—ã–¥–∞—á–∞/–í–æ–∑–≤—Ä–∞—Ç</span>
                </button>
                <button class="nav-btn" data-page="reports">
                    <span>üìä</span>
                    <span>–û—Ç—á–µ—Ç—ã</span>
                </button>
                <button id="downloadRules" class="btn btn-info">
                    <i class="fas fa-download"></i> –°–∫–∞—á–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
                </button>
            </nav>

            <div class="page-actions">
                <div id="books-actions" class="page-action active">
                    <button id="btn-new-book" class="btn primary">
                        <span>+</span>
                        <span>–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</span>
                    </button>
                </div>

                <div id="readers-actions" class="page-action">
                    <button id="btn-new-reader" class="btn primary">
                        <span>+</span>
                        <span>–î–æ–±–∞–≤–∏—Ç—å —á–∏—Ç–∞—Ç–µ–ª—è</span>
                    </button>
                </div>

                <div id="issues-actions" class="page-action" style="gap: 20px;">
                    <button id="btn-new-issue" class="btn primary">
                        <span>üìã</span>
                        <span>–û—Ñ–æ—Ä–º–∏—Ç—å –≤—ã–¥–∞—á—É</span>
                    </button>
                    <button id="btn-export-excel" class="btn success">
                        <span>üìä</span>
                        <span>–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel</span>
                    </button>
                </div>

                <div id="reports-actions" class="page-action">
                    <button id="btn-refresh-stats" class="btn primary">
                        <span>üîÑ</span>
                        <span>–û–±–Ω–æ–≤–∏—Ç—å –æ—Ç—á–µ—Ç—ã</span>
                    </button>
                </div>
            </div>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main">
            <header class="topbar">
                <h1 id="page-title">–ö–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥</h1>
            </header>

            <section class="content">
                <!-- –§–∏–ª—å—Ç—Ä—ã -->
                <div class="filters">
                    <div id="books-filters" class="filter-group active">
                        <div class="filter-item">
                            <label for="search">–ü–æ–∏—Å–∫ –∫–Ω–∏–≥</label>
                            <input type="text" id="search" placeholder="–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –∞–≤—Ç–æ—Ä—É...">
                        </div>
                        <div class="filter-item">
                            <label for="filter-status">–°—Ç–∞—Ç—É—Å</label>
                            <select id="filter-status">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="available">–î–æ—Å—Ç—É–ø–Ω–æ</option>
                                <option value="issued">–í—ã–¥–∞–Ω–æ</option>
                            </select>
                        </div>
                    </div>

                    <div id="readers-filters" class="filter-group">
                        <div class="filter-item">
                            <label for="search-readers">–ü–æ–∏—Å–∫ —á–∏—Ç–∞—Ç–µ–ª–µ–π</label>
                            <input type="text" id="search-readers" placeholder="–ü–æ –§–ò–û...">
                        </div>
                        <div class="filter-item">
                            <label for="filter-status-readers">–°—Ç–∞—Ç—É—Å</label>
                            <select id="filter-status-readers">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="active">–ê–∫—Ç–∏–≤–µ–Ω</option>
                                <option value="inactive">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</option>
                            </select>
                        </div>
                    </div>

                    <div id="issues-filters" class="filter-group">
                        <div class="filter-item">
                            <label for="filter-status-issues">–°—Ç–∞—Ç—É—Å –≤—ã–¥–∞—á–∏</label>
                            <select id="filter-status-issues">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="issued">–í—ã–¥–∞–Ω—ã</option>
                                <option value="overdue">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω—ã</option>
                                <option value="returned">–í–æ–∑–≤—Ä–∞—â–µ–Ω—ã</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- –°—Ç—Ä–∞–Ω–∏—Ü—ã -->
                <div id="books-page" class="page active">
                    <div id="books-loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–Ω–∏–≥...</div>
                    <div id="books-container" class="books-container"></div>
                </div>

                <div id="readers-page" class="page">
                    <div id="readers-loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —á–∏—Ç–∞—Ç–µ–ª–µ–π...</div>
                    <div id="readers-container" class="readers-container"></div>
                </div>

                <div id="issues-page" class="page">
                    <div id="issues-loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –≤—ã–¥–∞—á–µ...</div>
                    <div id="issues-container" class="issues-container"></div>
                </div>

                <div id="reports-page" class="page">
                    <div id="reports-loading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á–µ—Ç–æ–≤...</div>
                    <div id="reports-container" class="reports-container"></div>
                </div>
            </section>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∫–Ω–∏–≥–∏ -->
    <div id="modal-book" class="modal hidden">
        <div class="modal-body">
            <h3 id="modal-book-title">–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É</h3>
            <form id="book-form">
                <input type="hidden" id="book-id">

                <div class="form-group">
                    <label for="book-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ *</label>
                    <input type="text" id="book-name" required>
                </div>

                <div class="form-group">
                    <label for="book-author">–ê–≤—Ç–æ—Ä *</label>
                    <input type="text" id="book-author" required>
                </div>

                <div class="form-group">
                    <label for="book-genre">–ñ–∞–Ω—Ä</label>
                    <input type="text" id="book-genre">
                </div>

                <div class="form-group">
                    <label for="book-count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ *</label>
                    <input type="number" id="book-count" min="1" value="1" required>
                </div>

                <div class="modal-actions">
                    <button type="button" id="book-delete" class="btn danger hidden">
                        <span>üóëÔ∏è</span>
                        <span>–£–¥–∞–ª–∏—Ç—å</span>
                    </button>
                    <div style="flex: 1"></div>
                    <button type="button" id="book-cancel" class="btn secondary">
                        <span>‚ùå</span>
                        <span>–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button type="submit" class="btn primary">
                        <span>üíæ</span>
                        <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª—è -->
    <div id="modal-reader" class="modal hidden">
        <div class="modal-body">
            <h3 id="modal-reader-title">–î–æ–±–∞–≤–∏—Ç—å —á–∏—Ç–∞—Ç–µ–ª—è</h3>
            <form id="reader-form">
                <input type="hidden" id="reader-id">

                <div class="form-group">
                    <label for="reader-name">–§–ò–û *</label>
                    <input type="text" id="reader-name" required>
                </div>

                <div class="form-group">
                    <label for="reader-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="text" id="reader-phone">
                </div>

                <div class="form-group">
                    <label for="reader-email">Email</label>
                    <input type="email" id="reader-email">
                </div>

                <div class="form-group">
                    <label for="reader-address">–ê–¥—Ä–µ—Å</label>
                    <textarea id="reader-address" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="reader-status">–°—Ç–∞—Ç—É—Å</label>
                    <select id="reader-status">
                        <option value="active">–ê–∫—Ç–∏–≤–µ–Ω</option>
                        <option value="inactive">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</option>
                    </select>
                </div>

                <div class="modal-actions">
                    <button type="button" id="reader-delete" class="btn danger hidden">
                        <span>üóëÔ∏è</span>
                        <span>–£–¥–∞–ª–∏—Ç—å</span>
                    </button>
                    <div style="flex: 1"></div>
                    <button type="button" id="reader-cancel" class="btn secondary">
                        <span>‚ùå</span>
                        <span>–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button type="submit" class="btn primary">
                        <span>üíæ</span>
                        <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–¥–∞—á–∏ –∫–Ω–∏–≥–∏ -->
    <div id="modal-issue" class="modal hidden">
        <div class="modal-body">
            <h3>–û—Ñ–æ—Ä–º–∏—Ç—å –≤—ã–¥–∞—á—É –∫–Ω–∏–≥–∏</h3>
            <form id="issue-form">
                <div class="form-group">
                    <label for="issue-book">–ö–Ω–∏–≥–∞ *</label>
                    <select id="issue-book" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–∏–≥—É</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="issue-reader">–ß–∏—Ç–∞—Ç–µ–ª—å *</label>
                    <select id="issue-reader" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —á–∏—Ç–∞—Ç–µ–ª—è</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="issue-date">–î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ *</label>
                    <input type="date" id="issue-date" required>
                </div>

                <div class="form-group">
                    <label for="issue-return-date">–ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –¥–∞—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ *</label>
                    <input type="date" id="issue-return-date" required>
                </div>

                <div class="modal-actions">
                    <div style="flex: 1"></div>
                    <button type="button" id="issue-cancel" class="btn secondary">
                        <span>‚ùå</span>
                        <span>–û—Ç–º–µ–Ω–∞</span>
                    </button>
                    <button type="submit" class="btn primary">
                        <span>üìã</span>
                        <span>–û—Ñ–æ—Ä–º–∏—Ç—å –≤—ã–¥–∞—á—É</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/js/app.js"></script>
</body>
</html>